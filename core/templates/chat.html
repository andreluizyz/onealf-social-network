{% extends 'base.html' %}
{% block content %}
<div class="max-w-xl mx-auto mt-8 text-white">
    <h2 class="text-2xl font-bold mb-4">Chat com {{ outro_usuario.username }}</h2>

    <div class="bg-gray-800 p-4 rounded h-96 overflow-y-scroll mb-4">
        {% for mensagem in mensagens %}
            <div class="{% if mensagem.remetente == user %}text-right{% endif %}">
                <p><strong>{{ mensagem.remetente.username }}</strong>: {{ mensagem.conteudo }}</p>
                <p class="text-xs text-gray-400">{{ mensagem.timestamp|date:"H:i d/m/Y" }}</p>
            </div>
            <hr class="my-2 border-gray-600">
        {% endfor %}
    </div>

    <form method="POST">
        {% csrf_token %}
        <textarea name="mensagem" rows="3" class="w-full p-2 rounded bg-gray-700 text-white mb-2" placeholder="Digite sua mensagem..."></textarea>
        <button type="submit" class="w-full bg-pink-500 hover:bg-pink-600 py-2 rounded">Enviar</button>
    </form>
</div>
{% endblock %}
